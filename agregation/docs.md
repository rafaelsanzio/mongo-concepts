MongoDB actually tries its best to optimize your Aggregation Pipelines without interfering with your logic.

Learn more about the default optimizations MongoDB performs in this article: https://docs.mongodb.com/manual/core/aggregation-pipeline-optimization/

Official Aggregation Framework Docs: https://docs.mongodb.com/manual/core/aggregation-pipeline/

Learn more about $cond: https://docs.mongodb.com/manual/reference/operator/aggregation/cond/
